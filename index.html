<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Codeplayer</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/index.css">
</head>

<body>   
    <div id="root">
        <div class="main">
            <div class="writingPanel"><span>HTML</span><textarea class="pad" id="htmlPanel"><h1>Hello world</h1></textarea></div>
            <div class="writingPanel"><span>CSS</span><textarea class="pad" id="cssPanel">h1{color:green}body{background-color:#bcd6e0;}</textarea></div>
            <div class="writingPanel"><span>JS</span><textarea class="pad" id="jsPanel">//Enter JS here...</textarea></div>         
        </div>
        <br><br>
        <iframe style="background-color: white; resize: both;" height="250px" width="70%" id="iframePanel"></iframe>
        <input class="btn" type="button" onclick="setiframe()" value="Run">
    </div>
    <script>
        setiframe()
        function setiframe(){
            //console.log($('#jsPanel').val())
            //console.log($('#cssPanel').val())
            htmlContent=$('#htmlPanel').val()
            cssContent=$('#cssPanel').val()
            jsContent=$('#jsPanel').val()
            var myFrame = $("#iframePanel").contents().find('body');
            content='<html>'+'<style>'+cssContent+'</style>'+'<body>'+htmlContent+'<script>'+jsContent+'<\/script>'+'<\/body>'+'</html>'
            myFrame.html(content);
        }
    </script>
</body>
</html>
